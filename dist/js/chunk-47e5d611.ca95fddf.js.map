{"version":3,"sources":["webpack:///./src/components/products/ProductCartActions.vue","webpack:///./src/components/products/ProductCartActions.vue?e104","webpack:///./src/components/ui/AppPage.vue","webpack:///./src/components/ui/AppPage.vue?948e","webpack:///./src/use/categories.js","webpack:///./src/utils/currency.js","webpack:///./node_modules/core-js/modules/es.string.sub.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/use/product-cart.js","webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?3fa7","webpack:///./src/components/ui/AppLoader.vue","webpack:///./src/components/ui/AppLoader.vue?fd03"],"names":["count","class","add","product","id","currency","price","inCard","sub","disabled","props","type","Object","required","Boolean","default","setup","render","__scopeId","back","to","center","title","String","document","useCategories","store","useStore","getters","length","dispatch","formatter","Intl","NumberFormat","style","value","format","$","createHTML","forcedStringHTMLMethod","target","proto","forced","this","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","p1","replace","fails","METHOD_NAME","test","toLowerCase","split","useProductCart","defaultId","computed","prodId","commit","loading","src","img","alt","category","in-card","route","params","find","c","components","AppLoader","AppPage","ProductCartActions"],"mappings":"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","file":"js/chunk-47e5d611.ca95fddf.js","sourcesContent":["<template>\n  <button class=\"btn\" @click.stop=\"add(product.id)\" v-if=\"count === 0\">\n    {{currency(product.price)}}\n  </button>\n  <div :class=\"['product-controls', {'in-card': inCard}]\" v-else>\n    <button\n        class=\"btn danger\"\n        @click.stop=\"sub(product.id)\"\n    >-</button>\n    <strong>{{count}}</strong>\n    <button\n        class=\"btn primary\"\n        @click.stop=\"add(product.id)\"\n        :disabled=\"count >= product.count\"\n    >+</button>\n  </div>\n</template>\n\n<script>\nimport {useProductCart} from '../../use/product-cart'\nimport {currency} from '../../utils/currency'\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      required: true\n    },\n    inCard: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    return {\n      ...useProductCart(props.product.id),\n      currency\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./ProductCartActions.vue?vue&type=template&id=893a0ec6&scoped=true\"\nimport script from \"./ProductCartActions.vue?vue&type=script&lang=js\"\nexport * from \"./ProductCartActions.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-893a0ec6\"\n\nexport default script","<template>\n  <div class=\"breadcrumbs\" v-if=\"back\">\n    <router-link to=\"/\" class=\"text-white\">Вернуться к товарам</router-link>\n  </div>\n  <div :class=\"['card', {center}]\">\n    <h1 class=\"card-title\">\n      <span v-once>{{title}}</span>\n      <slot name=\"header\" />\n    </h1>\n\n    <slot />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    back: {\n      type: Boolean,\n      default: false\n    },\n    center: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    if (props.title) {\n      document.title = `${props.title} | Vue Лавка`\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./AppPage.vue?vue&type=template&id=b841083e&scoped=true\"\nimport script from \"./AppPage.vue?vue&type=script&lang=js\"\nexport * from \"./AppPage.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-b841083e\"\n\nexport default script","import {useStore} from 'vuex'\n\nexport async function useCategories() {\n  const store = useStore()\n\n  if (store.getters['category/categories'].length === 0) {\n    await store.dispatch('category/load')\n  }\n}\n","const formatter = new Intl.NumberFormat('ru-RU', {currency: 'RUB', style: 'currency'})\n\nexport function currency(value) {\n  return formatter.format(value)\n}","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.es/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","import {computed} from 'vue'\nimport {useStore} from 'vuex'\n\nexport function useProductCart(defaultId) {\n  const store = useStore()\n\n  const count = computed(() => store.getters['cart/cart'][defaultId] ?? 0)\n\n  const add = (prodId) => store.commit('cart/add', prodId)\n\n  const sub = (prodId) => store.commit('cart/remove', prodId)\n\n  return {\n    count,\n    add,\n    sub\n  }\n}","<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back center :title=\"product.title\" v-else-if=\"product\">\n    <img :src=\"product.img\" :alt=\"product.title\">\n    <p>Категория: <strong>{{category.title}}</strong></p>\n    <template v-if=\"product.count\">\n      <product-cart-actions :product=\"product\" in-card />\n    </template>\n    <strong v-else>Нет в наличии</strong>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Товара не найден.\n  </h3>\n</template>\n\n<script>\nimport {ref, onMounted, computed} from 'vue'\nimport {useStore} from 'vuex'\nimport {useRoute} from 'vue-router'\nimport AppPage from '../components/ui/AppPage'\nimport AppLoader from '../components/ui/AppLoader'\nimport {currency} from '../utils/currency'\nimport {useProductCart} from '../use/product-cart'\nimport {useCategories} from '../use/categories'\nimport ProductCartActions from '../components/products/ProductCartActions'\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    const product = ref({})\n\n    const loading = ref(true)\n\n    onMounted(async () => {\n      await useCategories()\n      product.value = await store.dispatch('product/loadOne', route.params.id)\n      loading.value = false\n    })\n\n    const category = computed(() =>\n      store.getters['category/categories']\n        .find(c => c.type === product.value.category)\n    )\n\n    return {\n      loading,\n      product,\n      currency,\n      category,\n      ...useProductCart(route.params.id)\n    }\n  },\n  components: {\n    AppLoader, AppPage, ProductCartActions\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Product.vue?vue&type=template&id=8a46d75e&scoped=true\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-8a46d75e\"\n\nexport default script","<template>\n  <div class=\"loader\"></div>\n</template>\n\n<script>\n  export default {\n\n  }\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./AppLoader.vue?vue&type=template&id=4ce08c3c&scoped=true\"\nimport script from \"./AppLoader.vue?vue&type=script&lang=js\"\nexport * from \"./AppLoader.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-4ce08c3c\"\n\nexport default script"],"sourceRoot":""}